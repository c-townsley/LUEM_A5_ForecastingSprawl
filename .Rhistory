developed <- lc_2008 == 21 | lc_2008 == 22 | lc_2008 == 23 | lc_2008 == 24
forest <- lc_2008 == 41 | lc_2008 == 42 | lc_2008 == 43
farm <- lc_2008 == 81 | lc_2008 == 82
wetlands <- lc_2008 == 90 | lc_2008 == 95
otherUndeveloped <- lc_2008 == 52 | lc_2008 == 71 | lc_2008 == 31
water <- lc_2008 == 11
developed <- lc_2019 == 21 | lc_2019 == 22 | lc_2019 == 23 | lc_2019 == 24
forest <- lc_2019 == 41 | lc_2019 == 42 | lc_2019 == 43
farm <- lc_2019 == 81 | lc_2019 == 82
wetlands <- lc_2019 == 90 | lc_2019 == 95
otherUndeveloped <- lc_2019 == 52 | lc_2019 == 71 | lc_2019 == 31
water <- lc_2019 == 11
names(developed) <- "developed"
names(forest) <- "forest"
names(farm) <- "farm"
names(wetlands) <- "wetlands"
names(otherUndeveloped) <- "otherUndeveloped"
names(water) <- "water"
View(developed)
### I think this works but I am concerned that the lc_2019 overwrites the lc_2008...not sure yet
developed08 <- lc_2008 == 21 | lc_2008 == 22 | lc_2008 == 23 | lc_2008 == 24
forest08 <- lc_2008 == 41 | lc_2008 == 42 | lc_2008 == 43
#UPDATE R ####
R.version #to check R version
farm08 <- lc_2008 == 81 | lc_2008 == 82
wetlands08 <- lc_2008 == 90 | lc_2008 == 95
otherUndeveloped08 <- lc_2008 == 52 | lc_2008 == 71 | lc_2008 == 31
water08 <- lc_2008 == 11
developed19 <- lc_2019 == 21 | lc_2019 == 22 | lc_2019 == 23 | lc_2019 == 24
forest19 <- lc_2019 == 41 | lc_2019 == 42 | lc_2019 == 43
farm19 <- lc_2019 == 81 | lc_2019 == 82
wetlands19 <- lc_2019 == 90 | lc_2019 == 95
otherUndeveloped19 <- lc_2019 == 52 | lc_2019 == 71 | lc_2019 == 31
water19 <- lc_2019 == 11
names(developed08) <- "developed"
names(forest08) <- "forest"
names(farm08) <- "farm"
names(wetlands08) <- "wetlands"
names(otherUndeveloped08) <- "otherUndeveloped"
names(water08) <- "water"
names(developed19) <- "developed"
names(forest19) <- "forest"
names(farm19) <- "farm"
names(wetlands19) <- "wetlands"
names(otherUndeveloped19) <- "otherUndeveloped"
names(water19) <- "water"
rm(c(developed, forest, farm, wetlands, otherUndeveloped, water))
rm(developed)
rm(forest, farm)
rm(wetlands, otherUndeveloped, water)
### I think this works but I am concerned that the lc_2019 overwrites the lc_2008...not sure yet
developed08 <- lc_2008 == 21 | lc_2008 == 22 | lc_2008 == 23 | lc_2008 == 24
forest08 <- lc_2008 == 41 | lc_2008 == 42 | lc_2008 == 43
farm08 <- lc_2008 == 81 | lc_2008 == 82
wetlands08 <- lc_2008 == 90 | lc_2008 == 95
otherUndeveloped08 <- lc_2008 == 52 | lc_2008 == 71 | lc_2008 == 31
water08 <- lc_2008 == 11
developed19 <- lc_2019 == 21 | lc_2019 == 22 | lc_2019 == 23 | lc_2019 == 24
forest19 <- lc_2019 == 41 | lc_2019 == 42 | lc_2019 == 43
farm19 <- lc_2019 == 81 | lc_2019 == 82
wetlands19 <- lc_2019 == 90 | lc_2019 == 95
otherUndeveloped19 <- lc_2019 == 52 | lc_2019 == 71 | lc_2019 == 31
water19 <- lc_2019 == 11
names(developed08) <- "developed08"
names(forest08) <- "forest08"
names(farm08) <- "farm08"
names(wetlands08) <- "wetlands08"
names(otherUndeveloped08) <- "otherUndeveloped08"
names(water08) <- "water08"
names(developed19) <- "developed19"
names(forest19) <- "forest19"
names(farm19) <- "farm19"
names(wetlands19) <- "wetlands19"
names(otherUndeveloped19) <- "otherUndeveloped19"
names(water19) <- "water19"
theRasterList08 <- c(developed08, forest08, farm08, wetlands08, otherUndeveloped08, water08)
theRasterList19 <- c(developed19, forest19, farm19, wetlands19, otherUndeveloped19, water19)
aggregatedRasters08 <-
aggregateRaster(theRasterList08, AtlantaMSA_fishnet) %>%
dplyr::select(developed08, forest08, farm08, wetlands08, otherUndeveloped08, water08) %>%
mutate_if(is.numeric, as.factor)
### This is just pasted from the markdown.
aggregateRaster <- function(inputRasterList, AtlantaMSA_fishnet) {
#create an empty fishnet with the same dimensions as the input fishnet
theseFishnets <- AtlantaMSA_fishnet %>% dplyr::select()
#for each raster in the raster list
for (i in inputRasterList) {
#create a variable name corresponding to the ith raster
varName <- names(i)
#convert raster to points as an sf
thesePoints <-
rasterToPoints(i) %>%
as.data.frame() %>%
st_as_sf(coords = c("x", "y"), crs = st_crs(AtlantaMSA_fishnet)) %>%
filter(.[[1]] == 1)
#aggregate to the fishnet
AtlantaMSA_fishnet <-
aggregate(thesePoints, AtlantaMSA_fishnet, length) %>%
mutate(!!varName := ifelse(is.na(.[[1]]),0,1))
#add to the larger fishnet
theseFishnets <- cbind(theseFishnets, AtlantaMSA_fishnet)
}
#output all aggregates as one large fishnet
return(theseFishnets)
}
theRasterList08 <- c(developed08, forest08, farm08, wetlands08, otherUndeveloped08, water08)
theRasterList19 <- c(developed19, forest19, farm19, wetlands19, otherUndeveloped19, water19)
### This part has a dataframe issue
aggregatedRasters08 <-
aggregateRaster(theRasterList08, AtlantaMSA_fishnet) %>%
dplyr::select(developed08, forest08, farm08, wetlands08, otherUndeveloped08, water08) %>%
mutate_if(is.numeric, as.factor)
View(theRasterList08)
aggregatedRasters08 <-
aggregateRaster(theRasterList08, AtlantaMSA_fishnet)
aggregateRaster <- function(inputRasterList, AtlantaMSA_fishnet) {
#create an empty fishnet with the same dimensions as the input fishnet
theseFishnets <- AtlantaMSA_fishnet %>% dplyr::select()
#for each raster in the raster list
for (i in inputRasterList) {
#create a variable name corresponding to the ith raster
varName <- names(i)
#convert raster to points as an sf
thesePoints <-
rasterToPoints(i) %>%
as.data.frame() %>%
st_as_sf(coords = c("x", "y"), crs = st_crs(AtlantaMSA_fishnet)) %>%
filter(.[[1]] == 1)
#aggregate to the fishnet
AtlantaMSA_fishnet <-
aggregate(thesePoints, AtlantaMSA_fishnet, length) %>%
mutate(!!varName := ifelse(is.na(.[[1]]),0,1))
#add to the larger fishnet
theseFishnets <- cbind(theseFishnets, AtlantaMSA_fishnet)
}
#output all aggregates as one large fishnet
return(theseFishnets)
}
### This part has a dataframe issue
aggregatedRasters08 <-
aggregateRaster(theRasterList08, AtlantaMSA_fishnet) %>%
dplyr::select(developed08, forest08, farm08, wetlands08, otherUndeveloped08, water08) %>%
mutate_if(is.numeric, as.factor)
projection(lc_2008)
projection(lc_2019)
#set projections
projection(lc_2008) <- rast_projection
rast_projection <- +"proj=tmerc +lat_0=30 +lon_0=-84.16666666666667 +k=0.9999 +x_0=700000 +y_0=0 +ellps=GRS80 +units=m +no_defs"
rast_projection <- "+proj=tmerc +lat_0=30 +lon_0=-84.16666666666667 +k=0.9999 +x_0=700000 +y_0=0 +ellps=GRS80 +units=m +no_defs"
#set projections
projection(lc_2008) <- rast_projection
projection(lc_2008)
projection(lc_2019) <- rast_projection
### This works but does not visualize correctly
grid.arrange(ncol = 2,
ggplot() +
geom_sf(data = metro_counties,
color = "black", fill = "transparent") +
geom_raster(data=rast(lc_2008) %>% na.omit %>% filter(value > 0),
aes(x,y,fill=as.factor(value))) +
scale_fill_viridis(discrete=TRUE, name ="") +
labs(title = "Land Cover, 2008") +
mapTheme +
theme(legend.direction="horizontal"),
ggplot() +
geom_sf(data = metro_counties,
color = "black", fill = "transparent") +
geom_raster(data=rast(lc_2019) %>% na.omit %>% filter(value > 0),
aes(x,y,fill=as.factor(value))) +
scale_fill_viridis(discrete=TRUE, name ="") +
labs(title = "Land Cover, 2019") +
mapTheme +
theme(legend.direction="horizontal")
)
### I think this works but I am concerned that the lc_2019 overwrites the lc_2008...not sure yet
developed08 <- lc_2008 == 21 | lc_2008 == 22 | lc_2008 == 23 | lc_2008 == 24
forest08 <- lc_2008 == 41 | lc_2008 == 42 | lc_2008 == 43
farm08 <- lc_2008 == 81 | lc_2008 == 82
wetlands08 <- lc_2008 == 90 | lc_2008 == 95
otherUndeveloped08 <- lc_2008 == 52 | lc_2008 == 71 | lc_2008 == 31
water08 <- lc_2008 == 11
developed19 <- lc_2019 == 21 | lc_2019 == 22 | lc_2019 == 23 | lc_2019 == 24
forest19 <- lc_2019 == 41 | lc_2019 == 42 | lc_2019 == 43
farm19 <- lc_2019 == 81 | lc_2019 == 82
wetlands19 <- lc_2019 == 90 | lc_2019 == 95
otherUndeveloped19 <- lc_2019 == 52 | lc_2019 == 71 | lc_2019 == 31
water19 <- lc_2019 == 11
names(developed08) <- "developed08"
names(forest08) <- "forest08"
names(farm08) <- "farm08"
names(wetlands08) <- "wetlands08"
names(otherUndeveloped08) <- "otherUndeveloped08"
names(water08) <- "water08"
names(developed19) <- "developed19"
names(forest19) <- "forest19"
names(farm19) <- "farm19"
names(wetlands19) <- "wetlands19"
names(otherUndeveloped19) <- "otherUndeveloped19"
names(water19) <- "water19"
aggregateRaster <- function(inputRasterList, AtlantaMSA_fishnet)
#create an empty fishnet with the same dimensions as the input fishnet
theseFishnets <- AtlantaMSA_fishnet %>% dplyr::select()
grid.arrange(ncol = 1,
ggplot() +
geom_sf(data = metro_counties,
color = "black", fill = "transparent") +
geom_raster(data=rast(lc_2008) %>% na.omit %>% filter(value > 0),
aes(x,y,fill=as.factor(value))) +
scale_fill_viridis(discrete=TRUE, name ="") +
labs(title = "Land Cover, 2008") +
mapTheme +
theme(legend.direction="horizontal"),
ggplot() +
geom_raster(data=rast(lc_2019) %>% na.omit %>% filter(value > 0),
aes(x,y,fill=as.factor(value))) +
scale_fill_viridis(discrete=TRUE, name ="") +
labs(title = "Land Cover, 2019") +
mapTheme +
theme(legend.direction="horizontal")
)
View(water08)
View(plotTheme)
View(Atlanta_MSA)
### This works but does not visualize correctly
grid.arrange(ncol = 1,
ggplot() +
geom_sf(data=Atlanta_MSA) +
geom_raster(data=rast(lc_2008) %>% na.omit %>% filter(value > 0),
aes(x,y,fill=as.factor(value))) +
scale_fill_viridis(discrete=TRUE, name ="") +
labs(title = "Land Cover, 2008") +
mapTheme +
theme(legend.direction="horizontal"),
ggplot() +
geom_sf(data=Atlanta_MSA) +
geom_raster(data=rast(lc_2019) %>% na.omit %>% filter(value > 0),
aes(x,y,fill=as.factor(value))) +
scale_fill_viridis(discrete=TRUE, name ="") +
labs(title = "Land Cover, 2019") +
mapTheme +
theme(legend.direction="horizontal")
)
ggplot() +
geom_raster(data=rast(lc_2008) %>% na.omit %>% filter(value > 0),
aes(x,y,fill=as.factor(value))) +
scale_fill_viridis(discrete=TRUE, name ="") +
geom_sf(data=Atlanta_MSA, fill = "transparent") +
labs(title = "Land Cover, 2008") +
mapTheme +
theme(legend.direction="horizontal")
View(lc_2008)
ggplot() +
geom_raster(data = lc_2008 , aes(x = x, y = y)) %>% na.omit %>% filter(value > 0),
ggplot() +
geom_raster(data = lc_2008 , aes(x = x, y = y)) %>% na.omit %>% filter(value > 0),
ggplot() +
geom_raster(data = lc_2008 , aes(x = x, y = y, fill=as.factor(value))) %>% na.omit %>% filter(value > 0) +
scale_fill_viridis(discrete=TRUE, name ="") +
geom_sf(data=Atlanta_MSA, fill = "transparent") +
labs(title = "Land Cover, 2008") +
mapTheme +
theme(legend.direction="horizontal")
ggplot() +
geom_raster(data=rast(lc_2019) %>% na.omit %>% filter(value > 0),
aes(x,y,fill=as.factor(value))) +
scale_fill_viridis(discrete=TRUE, name ="") +
geom_sf(data=Atlanta_MSA,  fill = "transparent") +
labs(title = "Land Cover, 2019") +
mapTheme +
theme(legend.direction="horizontal")
ggplot() +
geom_sf(data=Atlanta_MSA,  fill = "transparent") +
geom_raster(data=rast(lc_2019) %>% na.omit %>% filter(value > 0),
aes(x,y,fill=as.factor(value))) +
scale_fill_viridis(discrete=TRUE, name ="") +
labs(title = "Land Cover, 2019") +
mapTheme +
theme(legend.direction="horizontal")
ggplot() +
geom_sf(data=Atlanta_MSA,  fill = "transparent") +
geom_raster(data=rast(lc_2019) %>% na.omit %>% filter(value > 0),
aes(x, y, fill=as.factor(value))) +
scale_fill_viridis(discrete=TRUE, name ="") +
labs(title = "Land Cover, 2019") +
coord_sf(xlim = xlimit, ylim = ylimit) +
mapTheme +
theme(legend.direction="horizontal")
ggplot() +
geom_sf(data=Atlanta_MSA,  fill = "transparent") +
geom_raster(data=rast(lc_2019) %>% na.omit %>% filter(value > 0),
aes(x, y, fill=as.factor(value))) +
scale_fill_viridis(discrete=TRUE, name ="") +
labs(title = "Land Cover, 2019") +
coord_sf(xlim = x, ylim = y) +
mapTheme +
theme(legend.direction="horizontal")
lc_2008 = raster("https://raw.githubusercontent.com/c-townsley/LUEM_A5_Repo/cfd6db18d222958b58a1d9169fe261fd5578d277/Data/raster/2008LC.tif") %>%
crop(Atlanta_MSA)
lc_2008 = raster("https://raw.githubusercontent.com/c-townsley/LUEM_A5_Repo/cfd6db18d222958b58a1d9169fe261fd5578d277/Data/raster/2008LC.tif")
lc_2019 = raster("https://raw.githubusercontent.com/c-townsley/LUEM_A5_Repo/cfd6db18d222958b58a1d9169fe261fd5578d277/Data/raster/2019LC.tif")
projection(lc_2008) <- rast_projection
projection(lc_2019) <- rast_projection
ggplot() +
geom_sf(data=Atlanta_MSA) +
geom_raster(data=rast(lc_2008) %>% na.omit %>% filter(value > 0),
aes(x,y,fill=as.factor(value))) +
scale_fill_viridis(discrete=TRUE, name ="") +
labs(title = "Land Cover, 2008") +
mapTheme +
theme(legend.direction="horizontal")
head(lc_2008)
View(lc_2008)
ggplot() +
geom_sf(data=Atlanta_MSA) +
geom_raster(data=rast(lc_2008) %>% na.omit %>% filter(value > 0),
aes(x,y,fill=as.factor(value))) +
scale_fill_viridis(discrete=TRUE, name ="", option = "C") +
labs(title = "Land Cover, 2008") +
mapTheme +
theme(legend.direction="horizontal") +
coord_sf(xlim = c(-85.39, -83.27), ylim = c(32.84, 34.62),expand = FALSE)
ggplot() +
geom_raster(data=rast(lc_2008) %>% na.omit %>% filter(value > 0),
aes(x,y,fill=as.factor(value))) +
scale_fill_viridis(discrete=TRUE, name ="", option = "C") +
geom_sf(data=Atlanta_MSA) +
labs(title = "Land Cover, 2008") +
mapTheme +
theme(legend.direction="horizontal") +
coord_sf(xlim = c(-85.39, -83.27), ylim = c(32.84, 34.62),expand = FALSE)
ggplot() +
geom_sf(data=metro_counties) +
geom_raster(data=rast(lc_2008) %>% na.omit %>% filter(value > 0),
aes(x,y,fill=as.factor(value))) +
scale_fill_viridis(discrete=TRUE, name ="", option = "C") +
labs(title = "Land Cover, 2008") +
mapTheme +
theme(legend.direction="horizontal") +
coord_sf(xlim = c(-85.39, -83.27), ylim = c(32.84, 34.62),expand = FALSE)
ggplot() +
geom_sf(metro_counties, fill = "transparent") +
geom_raster(data=rast(lc_2008) %>% na.omit %>% filter(value > 0),
aes(x,y,fill=as.factor(value))) +
scale_fill_viridis(discrete=TRUE, name ="", option = "C") +
labs(title = "Land Cover, 2008") +
mapTheme +
theme(legend.direction="horizontal") +
coord_sf(xlim = c(-85.39, -83.27), ylim = c(32.84, 34.62),expand = FALSE)
ggplot() +
geom_sf(data = metro_counties, fill = "transparent") +
geom_raster(data=rast(lc_2008) %>% na.omit %>% filter(value > 0),
aes(x,y,fill=as.factor(value))) +
scale_fill_viridis(discrete=TRUE, name ="", option = "C") +
labs(title = "Land Cover, 2008") +
mapTheme +
theme(legend.direction="horizontal") +
coord_sf(xlim = c(-85.39, -83.27), ylim = c(32.84, 34.62),expand = FALSE)
ggplot() +
geom_sf(data = metro_counties, color = "black") +
geom_raster(data=rast(lc_2008) %>% na.omit %>% filter(value > 0),
aes(x,y,fill=as.factor(value))) +
scale_fill_viridis(discrete=TRUE, name ="", option = "C") +
labs(title = "Land Cover, 2008") +
mapTheme +
theme(legend.direction="horizontal") +
coord_sf(xlim = c(-85.39, -83.27), ylim = c(32.84, 34.62),expand = FALSE)
ggplot() +
geom_sf(data = metro_counties, color = "black") +
geom_raster(data=rast(lc_2008) %>% na.omit %>% filter(value > 0),
aes(x,y,fill=as.factor(value))) +
scale_fill_viridis(discrete=TRUE, name ="", option = "C") +
labs(title = "Land Cover, 2008") +
mapTheme +
theme(legend.direction="horizontal") +
coord_sf(xlim = c(-85.39, -83.27), ylim = c(32.84, 34.62))
lc_2008 <- mask(x = lc_2008, mask = Atlanta_MSA)
?mask
#Mask rasters
lc_2008 <- mask(x = lc_2008, mask = metro_counties)
lc_2019 <- mask(x = lc_2019, mask = metro_counties)
ggplot() +
geom_sf(data = metro_counties, color = "black") +
geom_raster(data=rast(lc_2008) %>% na.omit %>% filter(value > 0),
aes(x,y,fill=as.factor(value))) +
scale_fill_viridis(discrete=TRUE, name ="", option = "C") +
labs(title = "Land Cover, 2008") +
mapTheme +
theme(legend.direction="horizontal") +
coord_sf(xlim = c(-85.39, -83.27), ylim = c(32.84, 34.62))
ggplot() +
geom_sf(data = metro_counties, color = "black", fill = "transparent") +
geom_raster(data=rast(lc_2008) %>% na.omit %>% filter(value > 0),
aes(x,y,fill=as.factor(value))) +
scale_fill_viridis(discrete=TRUE, name ="", option = "C") +
labs(title = "Land Cover, 2008") +
mapTheme +
theme(legend.direction="horizontal") +
coord_sf(xlim = c(-85.39, -83.27), ylim = c(32.84, 34.62))
ggplot() +
geom_sf(data = metro_counties, color = "black", fill = "transparent") +
geom_raster(data=rast(lc_2008),
aes(x,y,fill=as.factor(value))) +
scale_fill_viridis(discrete=TRUE, name ="", option = "C") +
labs(title = "Land Cover, 2008") +
mapTheme +
theme(legend.direction="horizontal") +
coord_sf(xlim = c(-85.39, -83.27), ylim = c(32.84, 34.62))
#Set raster projection to match shapefile projection we are using
rast_projection <- "+proj=tmerc +lat_0=30 +lon_0=-84.16666666666667 +k=0.9999 +x_0=700000 +y_0=0 +ellps=GRS80 +units=m +no_defs"
#load rasters
lc_2008 = raster("https://raw.githubusercontent.com/c-townsley/LUEM_A5_Repo/cfd6db18d222958b58a1d9169fe261fd5578d277/Data/raster/2008LC.tif")
lc_2019 = raster("https://raw.githubusercontent.com/c-townsley/LUEM_A5_Repo/cfd6db18d222958b58a1d9169fe261fd5578d277/Data/raster/2019LC.tif")
#set projections
projection(lc_2008) <- rast_projection
projection(lc_2019) <- rast_projection
#Mask rasters
lc_2008 <- mask(x = lc_2008, mask = metro_counties)
lc_2019 <- mask(x = lc_2019, mask = metro_counties)
ggplot() +
geom_sf(data = metro_counties, color = "black", fill = "transparent") +
geom_raster(data=rast(lc_2008),
aes(x,y,fill=as.factor(value))) +
scale_fill_viridis(discrete=TRUE, name ="", option = "C") +
labs(title = "Land Cover, 2008") +
mapTheme +
theme(legend.direction="horizontal") +
coord_sf(xlim = c(-85.39, -83.27), ylim = c(32.84, 34.62))
ggplot() +
geom_raster(data=rast(lc_2008),
aes(x,y,fill=as.factor(value))) +
scale_fill_viridis(discrete=TRUE, name ="", option = "C") +
labs(title = "Land Cover, 2008") +
mapTheme +
theme(legend.direction="horizontal") +
coord_sf(xlim = c(-85.39, -83.27), ylim = c(32.84, 34.62))
lc_2008 = raster("https://raw.githubusercontent.com/c-townsley/LUEM_A5_Repo/cfd6db18d222958b58a1d9169fe261fd5578d277/Data/raster/2008LC.tif")
lc_2019 = raster("https://raw.githubusercontent.com/c-townsley/LUEM_A5_Repo/cfd6db18d222958b58a1d9169fe261fd5578d277/Data/raster/2019LC.tif")
ggplot() +
geom_raster(data=rast(lc_2008),
aes(x,y,fill=as.factor(value))) +
scale_fill_viridis(discrete=TRUE, name ="", option = "C") +
labs(title = "Land Cover, 2008") +
mapTheme +
theme(legend.direction="horizontal") +
coord_sf(xlim = c(-85.39, -83.27), ylim = c(32.84, 34.62))
ggplot() +
geom_sf(data=Atlanta_MSA,  fill = "transparent") +
geom_raster(data=rast(lc_2008),
aes(x,y,fill=as.factor(value))) +
scale_fill_viridis(discrete=TRUE, name ="", option = "C") +
labs(title = "Land Cover, 2008") +
mapTheme +
theme(legend.direction="horizontal") +
coord_sf(xlim = c(-85.39, -83.27), ylim = c(32.84, 34.62))
ggplot() +
geom_sf(data=metro_counties,  fill = "transparent") +
geom_raster(data=rast(lc_2008),
aes(x,y,fill=as.factor(value))) +
scale_fill_viridis(discrete=TRUE, name ="", option = "C") +
labs(title = "Land Cover, 2008") +
mapTheme +
theme(legend.direction="horizontal") +
coord_sf(xlim = c(-85.39, -83.27), ylim = c(32.84, 34.62))
projection(Atlanta_MSA)
projection(metro_counties)
#Set raster projection to match shapefile projection we are using
rast_projection <- "+proj=tmerc +lat_0=30 +lon_0=-84.1666666666667 +k=0.9999 +x_0=700000 +y_0=0 +ellps=GRS80 +towgs84=0.9956,-1.9013,-0.5215,-0.025915,-0.009426,-0.011599,0.00062 +units=m +no_defs"
#load rasters
lc_2008 = raster("https://raw.githubusercontent.com/c-townsley/LUEM_A5_Repo/cfd6db18d222958b58a1d9169fe261fd5578d277/Data/raster/2008LC.tif")
lc_2019 = raster("https://raw.githubusercontent.com/c-townsley/LUEM_A5_Repo/cfd6db18d222958b58a1d9169fe261fd5578d277/Data/raster/2019LC.tif")
projection(lc_2008) <- rast_projection
projection(lc_2019) <- rast_projection
ggplot() +
geom_sf(data=metro_counties,  fill = "transparent") +
geom_raster(data=rast(lc_2008),
aes(x,y,fill=as.factor(value))) +
scale_fill_viridis(discrete=TRUE, name ="", option = "C") +
labs(title = "Land Cover, 2008") +
mapTheme +
theme(legend.direction="horizontal") +
coord_sf(xlim = c(-85.39, -83.27), ylim = c(32.84, 34.62))
ggplot() +
geom_sf(data=metro_counties,  fill = "transparent") +
labs(title = "Land Cover, 2008") +
mapTheme +
theme(legend.direction="horizontal") +
coord_sf(xlim = c(-85.39, -83.27), ylim = c(32.84, 34.62))
ggplot() +
geom_sf(data=metro_counties,  fill = "transparent") +
labs(title = "Land Cover, 2008") +
mapTheme +
coord_sf(xlim = c(-85.39, -83.27), ylim = c(32.84, 34.62))
ggplot() +
geom_sf(data=metro_counties,  fill = "transparent") +
labs(title = "Land Cover, 2008") +
mapTheme
ggplot() +
geom_sf(data=metro_counties,  fill = "transparent") +
geom_raster(data=rast(lc_2008),
aes(x,y,fill=as.factor(value))) +
scale_fill_viridis(discrete=TRUE, name ="", option = "C") +
labs(title = "Land Cover, 2008") +
mapTheme +
theme(legend.direction="horizontal")
ggplot() +
geom_raster(data=rast(lc_2008),
aes(x,y,fill=as.factor(value))) +
scale_fill_viridis(discrete=TRUE, name ="", option = "C") +
labs(title = "Land Cover, 2008") +
mapTheme +
theme(legend.direction="horizontal")
projection(AtlantaMSA_fishnet)
